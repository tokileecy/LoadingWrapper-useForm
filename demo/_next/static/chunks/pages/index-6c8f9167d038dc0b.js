(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(8522)}])},8522:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var r,i,s=n(5893),a=n(9008),l=n.n(a);let c={laptop:1024,desktop:1440};window.matchMedia("(min-width: ".concat(c.laptop,"px)")),window.matchMedia("(min-width: ".concat(c.desktop,"px)"));let o={laptop:"@media (min-width: ".concat(c.laptop,"px)"),desktop:"@media (min-width: ".concat(c.desktop,"px)")};var d=n(8417),u=n(7906),h=n(444);function m(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function p(e,t,n){var r=[],i=(0,h.fp)(e,r,n);return r.length<2?n:i+t(r)}var x=function e(t){for(var n="",r=0;r<t.length;r++){var i=t[r];if(null!=i){var s=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))s=e(i);else for(var a in s="",i)i[a]&&a&&(s&&(s+=" "),s+=a);break;default:s=i}s&&(n&&(n+=" "),n+=s)}}return n},f=((r=(0,d.Z)({key:"css"})).sheet.speedy=function(e){this.isSpeedy=e},r.compat=!0,{css:i=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=(0,u.O)(t,r.registered,void 0);return(0,h.My)(r,i,!1),r.key+"-"+i.name},cx:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return p(r.registered,i,x(t))},injectGlobal:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=(0,u.O)(t,r.registered);m(r,i)},keyframes:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=(0,u.O)(t,r.registered),s="animation-"+i.name;return m(r,{name:i.name,styles:"@keyframes "+s+"{"+i.styles+"}"}),s},hydrate:function(e){e.forEach(function(e){r.inserted[e]=!0})},flush:function(){r.registered={},r.inserted={},r.sheet.flush()},sheet:r.sheet,cache:r,getRegisteredStyles:h.fp.bind(null,r.registered),merge:p.bind(null,r.registered,i)}),j=(f.flush,f.hydrate,f.cx,f.merge,f.getRegisteredStyles,f.injectGlobal,f.keyframes,f.css);f.sheet,f.cache;let g=j({padding:"0 2rem"}),v=j({minHeight:"100vh",padding:"4rem 0",flex:1,display:"flex",flexDirection:"column",alignItems:"center",[o.laptop]:{maxWidth:"900px",margin:"0 auto"},[o.desktop]:{maxWidth:"1280px",margin:"0 auto"}}),y=j({margin:0,marginBottom:"2rem",fontSize:"1.75rem",lineHeight:1.15,textAlign:"center",[o.laptop]:{fontSize:"2rem"},[o.desktop]:{fontSize:"3.5rem"}}),w=j({display:"flex",flexDirection:"column",gap:"2rem",width:"100%"});var k=n(7294);function b(e){let{loadData:t,renderData:n}=e,[r,i]=(0,k.useState)(),[a,l]=(0,k.useState)(!1);(0,k.useEffect)(()=>{let e=async()=>{l(!0),i(await t()),l(!1)};e()},[t]);let c=(0,k.useMemo)(()=>void 0===r?"":n(r),[r,n]);return(0,s.jsx)("div",{"data-testid":"loading-wrapper",children:a?"Loading~":c})}function S(){return(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{children:"Task 1"}),(0,s.jsx)("p",{children:"用typescript設計一個 react component LoadingWrapper"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"可以傳入一個 Promise operation (通常是 api call)"}),(0,s.jsx)("li",{children:"如果 promise 正在執行時，顯示 loading effect"}),(0,s.jsx)("li",{children:"如果 promise 完成了，把結果傳給 renderData 把結果顯示出來"})]}),(0,s.jsx)("h3",{children:"(a). String Case"}),(0,s.jsx)(b,{loadData:async()=>new Promise(e=>{setTimeout(()=>{e("String Case")},500)}),renderData:e=>(0,s.jsx)("div",{children:"string: ".concat(e)})}),(0,s.jsx)("h3",{children:"(b). Number Case"}),(0,s.jsx)(b,{loadData:async()=>new Promise(e=>{setTimeout(()=>{e(1234)},500)}),renderData:e=>(0,s.jsx)("div",{children:"number: ".concat(e)})})]})}let N=e=>Object.keys(e).reduce((e,t)=>(e[t]={error:""},e),{}),_={account:e=>e.length>8,pwd:e=>e.length>12};function C(){let[e,t,n]=function(e,t){let[n,r]=(0,k.useState)({...e}),[i,s]=(0,k.useState)(N(e)),a=(0,k.useMemo)(()=>Object.keys(e).reduce((e,t)=>(e[t]=e=>{r(n=>({...n,[t]:e.target.value}))},e),{}),[]),l=(0,k.useCallback)(()=>{let r=!0,i=Object.keys(e).reduce((e,i)=>(t[i](n[i])||(r=!1,e[i]={error:"something went wrong"}),e),N(e));return s(i),r},[n]);return[n,a,{...i,allFieldsValid:l}]}({account:"",pwd:""},_),r=async()=>{n.allFieldsValid()&&console.log("send data: ",e)};return(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{children:"Task 2"}),(0,s.jsx)("p",{children:"設計一個 react hook useForm"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"傳入一個初始的 data model"}),(0,s.jsx)("li",{children:"傳入針對各 data model 欄位的驗證邏輯"}),(0,s.jsxs)("li",{children:["回傳",(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"被處理好的 data model"}),(0,s.jsx)("li",{children:"各欄位的 setter，用於 onChange"}),(0,s.jsx)("li",{children:"各欄位驗證成功/失敗"})]})]})]}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r()},children:[(0,s.jsx)("label",{children:"Account"}),(0,s.jsx)("input",{type:"text",value:e.account,onChange:t.account}),(0,s.jsx)("div",{className:"invalid",children:n.account.error}),(0,s.jsx)("label",{children:"Password"}),(0,s.jsx)("input",{type:"password",value:e.pwd,onChange:t.pwd}),(0,s.jsx)("div",{className:"invalid",children:n.pwd.error}),(0,s.jsx)("button",{type:"submit",children:"submit"})]})]})}var A=function(){return(0,s.jsxs)("div",{className:g,children:[(0,s.jsxs)(l(),{children:[(0,s.jsx)("title",{children:"ts-next-storybook-template"}),(0,s.jsx)("meta",{name:"description",content:"ts-next-storybook-template"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsxs)("main",{className:v,children:[(0,s.jsx)("h1",{className:y,children:"ts-next-storybook-template"}),(0,s.jsxs)("div",{className:w,children:[(0,s.jsx)(S,{}),(0,s.jsx)(C,{})]})]})]})}},9008:function(e,t,n){e.exports=n(2636)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);